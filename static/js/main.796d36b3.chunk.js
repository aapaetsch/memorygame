(this.webpackJsonpmemorygame=this.webpackJsonpmemorygame||[]).push([[0],{146:function(e,t,a){e.exports=a(284)},151:function(e,t,a){},284:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(8),i=a.n(s),c=(a(151),a(93)),l=a(42),m=a(43),o=a(48),u=a(49),d=a(64),h=a(34),p=a(287),g=a(51),f=a(289),y=a(288),v=a(290),b=(a(73),function(e){var t="gameCol";return 2===e.players&&(t+=" gameColP".concat(e.cp)),r.a.createElement("div",{style:{width:"".concat(e.width,"%")},className:t,onClick:e.tileClick,id:e.id},e.clicked||e.matched?r.a.createElement("img",{id:e.id,className:"imageResize",src:e.src,alt:r.a.createElement("span",null,e.src)}):r.a.createElement("img",{id:e.id,className:"imageResize",src:"/memoryGame/images/questionmark.png",alt:""}))}),w=function(e){var t="playerStat",a="playerStat";return 1===e.currentPlayer?t+=" playerStatTurn":a+=" playerStatTurn",r.a.createElement("div",null,r.a.createElement("span",{className:t,style:{color:"#ffec3d"}},"P1 Matches: ",e.matches[1]),r.a.createElement("br",null),r.a.createElement("span",{className:a,style:{color:"#ff4d4f"}},"P2 Matches: ",e.matches[2]))},E=a(152),S=function(e){if(2===e.players){if(e.matches[1]===e.matches[2])return y.a.info({title:"Draw!",content:"Both players found ".concat(E.toWords(e.matches[1])," pairs!")});var t=1;e.matches[1]<e.matches[2]&&(t=2);var a=Math.abs(e.matches[1]-e.matches[2]);return y.a.success({title:"Player ".concat(t," Wins!"),content:"Player ".concat(t," has ").concat(E.toWords(a)," more pairs than player ").concat(3-t,".")})}if(void 0!==e.time)return y.a.success({title:"Winner!",content:"Player took ".concat(e.turns," turns and had ").concat(e.time," remaining. ")})},G=v.a.Countdown,O=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={timeLimit:0},n.winShown=!1,n}return Object(m.a)(a,[{key:"shouldComponentUpdate",value:function(e,t,a){return this.props.newGame!==e.newGame||this.props.paused!==e.paused||this.state.timeLimit!==t.timeLimit}},{key:"componentDidUpdate",value:function(e,t,a){this.props.newGame!==e.newGame&&(this.setState({timeLimit:Date.now()+6e4*this.props.limit}),this.winShown=!1)}},{key:"render",value:function(){if(this.props.paused){var e=new Date(this.state.timeLimit-Date.now()),t="".concat(e.getMinutes(),":").concat(e.getSeconds(),":").concat(e.getMilliseconds());return this.props.showWinMessage(t,this.winShown),this.winShown=!0,r.a.createElement("div",null,r.a.createElement("span",{className:"countdownTimer timerLabel"},"Time Remaining:"),r.a.createElement("h2",{style:{color:"#fff",display:"inline-block"}},t))}return r.a.createElement("div",null,r.a.createElement("span",{className:"countdownTimer timerLabel"},"Time Remaining:"),r.a.createElement(G,{format:"m:ss:SSS",className:"countdownTimer",value:this.state.timeLimit,onFinish:this.props.limitReached}))}}]),a}(n.Component),j=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).getImages=function(){for(var e=[],t=1;t<28;t++)e.push("/memorygame/images/green".concat(t,".png")),e.push("/memorygame/images/red".concat(t,".png")),e.push("/memorygame/images/purple".concat(t,".png"));return e},n.newGame=function(){n.allCards=n.randomizeCards(Object(g.a)(n.allCards));var e=n.props.boardSize*(n.props.boardSize-1)/2,t=n.allCards.slice(0,e);t=n.randomizeCards([].concat(Object(g.a)(t),Object(g.a)(t))),n.setBoard(t),n.isProcessing=!1,n.setState({remaining:e,currentPlayer:1,matches:{1:0,2:0},selected:null,turns:0,newGameTrigger:n.state.newGameTrigger+1})},n.randomizeCards=function(e){for(var t=Object(g.a)(e),a=t.length-1;a>0;a--){var n=Math.floor(Math.random()*a),r=t[a];t[a]=t[n],t[n]=r}return t},n.setBoard=function(e){for(var t=[],a=0;a<e.length;a++)t.push({id:a,clicked:!1,matched:!1,src:e[a]});n.setState({gameBoard:t})},n.handleTileClick=function(e){var t=e.target.id;if(t===n.state.selected)f.b.warning("Card is already selected",1);else if(!n.isProcessing&&n.props.gameStarted){n.isProcessing=!0;var a=Object(g.a)(n.state.gameBoard);if(a[t].matched||a[t].clicked)n.isProcessing=!1;else if(a[t].clicked=!0,null===n.state.selected)n.setState({selected:t,gameBoard:a}),n.isProcessing=!1;else if(a[n.state.selected].src===a[t].src){a[t].matched=!0,a[n.state.selected].matched=!0;var r=Object(c.a)({},n.state.matches);r[n.state.currentPlayer]+=1,n.setState({remaining:n.state.remaining-1,matches:r},(function(){var e=0;2===n.props.players&&(e=500),n.checkWin(),n.endTurn(a,e)}))}else n.setState({gameBoard:Object(g.a)(a)},(function(){a[t].clicked=!1,a[n.state.selected].clicked=!1,n.endTurn(a,500)}))}else n.props.gameStarted||f.b.error("Please start a new game!")},n.endTurn=function(e,t){setTimeout((function(){n.setState({turns:n.state.turns+1,selected:null,gameBoard:e,currentPlayer:3-n.state.currentPlayer}),n.isProcessing=!1}),t)},n.checkWin=function(){0===n.state.remaining&&(S({matches:n.state.matches,players:n.props.players}),n.props.endGame())},n.timeLimitReached=function(){n.props.endGame(),function(e){y.a.error({title:"You Lose!",content:"You took ".concat(e.turns," turns and have run out of time with ").concat(e.remaining," pairs remaining.")})}({remaining:n.state.remaining,turns:n.state.turns}),n.isProcessing=!1},n.soloWinMessage=function(e,t){t||S({turns:n.state.turns,players:n.props.players,time:e})},n.state={selected:null,gameBoard:[],remaining:-1,newGameTrigger:0,matches:{1:0,2:0},turns:0,currentPlayer:1},n.isProcessing=!1,n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.allCards=this.getImages(),this.setBoard(Object(g.a)(this.allCards).slice(0,13))}},{key:"render",value:function(){for(var e=[],t=1/this.props.boardSize*85,a=0,n=0;n<this.props.boardSize-1;n++){for(var s=[],i=0;i<this.props.boardSize;i++){var c=r.a.createElement(b,Object.assign({},this.state.gameBoard[a],{width:t,tileClick:this.handleTileClick,cp:this.state.currentPlayer,players:this.props.players}));s.push(c),a++}e.push(r.a.createElement("div",{className:"gameRow"},s))}return r.a.createElement("div",null,r.a.createElement(d.a,{align:"middle",justify:"center",className:"cardHeader"},r.a.createElement(h.a,{span:8},2===this.props.players?r.a.createElement(w,{matches:this.state.matches,currentPlayer:this.state.currentPlayer}):r.a.createElement(O,{newGame:this.state.newGameTrigger,paused:0===this.state.remaining,limit:this.props.timeLimit,limitReached:this.timeLimitReached,showWinMessage:this.soloWinMessage})),r.a.createElement(h.a,{span:8},r.a.createElement("h2",{style:{color:"#fff"}},"Memory Game")),r.a.createElement(h.a,{span:8})),r.a.createElement("div",{className:"cardBody"},e))}}]),a}(n.Component),k=a(286),P=a(285),C=a(68),T=a(291),B=k.a.Option,L=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).startGame=function(e){n.props.newGame(e)},n.fieldChange=function(e,t){void 0!==e[0]&&"players"===e[0].name[0]&&n.setState({players:e[0].value})},n.state={players:1},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(P.a,{name:"MemoryGameOptions",layout:this.state.width<700?"inline":"vertical",style:{textAlign:"center"},initialValues:{players:1,boardSize:4,timeLimit:3},onFinish:this.startGame,onFinishFailed:function(t){f.b.error("There was an error starting the game."),e.props.startGameFailed()},onFieldsChange:this.fieldChange,size:"small"},r.a.createElement(C.a,{type:"primary",htmlType:"submit"},"New Game!"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(P.a.Item,{name:"boardSize",label:"Board"},r.a.createElement(k.a,null,r.a.createElement(B,{value:4},"3 x 4"),r.a.createElement(B,{value:5},"4 x 5"),r.a.createElement(B,{value:6},"5 x 6"),r.a.createElement(B,{value:7},"6 x 7"))),r.a.createElement(P.a.Item,{name:"players",label:"Players"},r.a.createElement(k.a,null,r.a.createElement(B,{value:1},"1"),r.a.createElement(B,{value:2},"2"))),r.a.createElement(P.a.Item,{name:"timeLimit",label:"Time Limit",style:{textAlign:"left"}},r.a.createElement(T.a,{min:1,max:10,disabled:2===this.state.players})))}}]),a}(n.Component),N=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).startNewGame=function(e){r.setState(Object(c.a)({},e,{gameStarted:!0}),(function(){r.gameRef.current.newGame()}))},r.endGame=function(){r.setState({gameStarted:!1})},r.state={boardSize:4,gameStarted:!1,players:1,timeLimit:3},r.gameRef=Object(n.createRef)(),r}return Object(m.a)(a,[{key:"render",value:function(){var e={xs:7,sm:7,md:6,lg:5,xl:4},t={xs:17,sm:17,md:17,lg:18,xl:19};return r.a.createElement("div",{className:"gamePageBackground"},r.a.createElement(d.a,{align:"top",justify:"center",gutter:[8,8]},r.a.createElement(h.a,e,r.a.createElement(p.a,{title:"Options",bordered:!1,style:{height:"100%"}},r.a.createElement(L,{newGame:this.startNewGame,startGameFailed:this.endGame}))),r.a.createElement(h.a,t,r.a.createElement(j,Object.assign({ref:this.gameRef},this.state,{endGame:this.endGame,newGame:this.startNewGame})))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},73:function(e,t,a){}},[[146,1,2]]]);
//# sourceMappingURL=main.796d36b3.chunk.js.map